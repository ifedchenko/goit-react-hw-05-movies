{"version":3,"file":"static/js/677.e3c1a8d8.chunk.js","mappings":"0NACA,GAAgB,WAAa,iCAAiC,KAAO,2BAA2B,aAAe,mCAAmC,MAAQ,6B,kBCS1J,EAN0B,SAAAA,GACxB,OAAOC,EAAAA,EAAAA,IAAA,6CACsCD,EADtC,oBAHO,qCAKXE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,IAAb,GACjB,E,SC6FD,EAzFqB,WACnB,OAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA0CJ,EAAAA,EAAAA,WAAS,GAAnD,eAAOK,EAAP,KAAsBC,EAAtB,KAKQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAIjBC,EAAAA,EAAAA,YAAU,WACRP,GAAiB,GACjBQ,EAAkBP,GACfV,MAAK,SAAAkB,GACJb,EAASa,EACV,IACAC,OAAM,SAAAb,GACLC,EAAS,kCACTa,QAAQC,IAAIf,EACb,IACAgB,SAAQ,kBAAMb,GAAiB,EAAvB,GACZ,GAAE,CAACC,IASJ,OACE,iBAAKa,UAAWC,EAAAA,aAAhB,WACE,mBAAQC,QAxBQ,0BAAMX,EAAQ,iBAACF,QAAD,IAACA,GAAD,UAACA,EAAUc,aAAX,aAAC,EAAiBC,YAAlB,QAA0B,IAAxC,EAwBcJ,UAAWC,EAAAA,WAAzC,qBAGChB,IAAiB,yCAXhBF,GACK,yBAAMA,IAER,KAUJF,IACC,2BACGA,EAAMwB,aACL,gBAAKC,IAAG,0CAAqCzB,EAAMwB,aAAeE,IAAK1B,EAAM2B,SAE7E,gBAAKF,IAAKG,EAAKC,MAAM,MAAMH,IAAI,oBAEjC,wBAAK1B,EAAM2B,SACX,6BA3CN3B,EAAQ,IAAI8B,KAAK9B,EAAM+B,cAAcC,cAAgB,KA2C/C,QACA,wCAAgBC,KAAKC,MAAMlC,EAAMmC,YAAjC,QACA,iBAAKhB,UAAWC,EAAAA,cAAhB,WACE,sCACA,uBAAIpB,EAAMoC,iBAIfpC,IACC,iCACE,mBACA,iBAAKmB,UAAWC,EAAAA,MAAhB,WACE,SAAC,KAAD,CACED,UAAWC,EAAAA,KACXiB,GAAE,kBAAa/B,EAAb,YACFgC,MAAO,SAAAC,GAAQ,OAAKA,EAAW,CAAEC,MAAO,gBAAcC,CAAvC,EACfnB,MAAOd,EAASc,MAJlB,UAME,cAAGH,UAAWC,EAAAA,QAAd,wBAGF,SAAC,KAAD,CACED,UAAWC,EAAAA,KACXiB,GAAE,kBAAa/B,EAAb,SACFgC,MAAO,SAAAC,GAAQ,OAAKA,EAAW,CAAEC,MAAO,gBAAcC,CAAvC,EACfnB,MAAOd,EAASc,MAJlB,UAME,cAAGH,UAAWC,EAAAA,KAAd,qBAEF,yBAIN,SAAC,EAAAsB,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","services/fetchMovieDetails.js","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backButton\":\"MovieDetails_backButton__ilGfB\",\"link\":\"MovieDetails_link__wf74g\",\"movieDetails\":\"MovieDetails_movieDetails__EqwEX\",\"links\":\"MovieDetails_links__WB7Lu\"};","import axios from 'axios';\n\nconst API_KEY = '77cc72e96f7fab7310e90a268c6bf448';\n\nconst fetchMovieDetails = movie_id => {\n  return axios\n    .get(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}`)\n    .then(response => response.data);\n};\n\nexport default fetchMovieDetails;\n","import React, { useEffect, useState ,Suspense} from 'react';\nimport {\n  NavLink,\n  Outlet,\n  useLocation,\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport css from './MovieDetails.module.css';\nimport img from 'images/image-not-found.jpeg';\nimport fetchMovieDetails from 'services/fetchMovieDetails';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoaderShown, setIsLoaderShown] = useState(false);\n\n  const getYear = () =>\n    movie ? new Date(movie.release_date).getFullYear() : null;\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const handleClick = () => navigate(location?.state?.from ?? '/');\n\n  useEffect(() => {\n    setIsLoaderShown(true);\n    fetchMovieDetails(movieId)\n      .then(result => {\n        setMovie(result);\n      })\n      .catch(error => {\n        setError('Ooops. Something went wrong...');\n        console.log(error);\n      })\n      .finally(() => setIsLoaderShown(false));\n  }, [movieId]);\n\n  const displayErrorMessage = () => {\n    if (error) {\n      return <div>{error}</div>;\n    }\n    return null;\n  };\n\n  return (\n    <div className={css.movieDetails}>\n      <button onClick={handleClick} className={css.backButton}>\n        Go back\n      </button>\n      {isLoaderShown && <div>Loading ...</div>}\n      {displayErrorMessage()}\n      {movie && (\n        <div>\n          {movie.poster_path ? (\n            <img src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`} alt={movie.title} />\n          ) : (\n            <img src={img} width=\"200\" alt=\"File not found\" />\n          )}\n          <h3>{movie.title}</h3>\n          <p>({getYear()})</p>\n          <p>User Score: {Math.round(movie.popularity)}%</p>\n          <div className={css.movieOverview}>\n            <h3>Overview</h3>\n            <p>{movie.overview}</p>\n          </div>\n        </div>\n      )}\n      {movie && (\n        <>\n          <hr />\n          <div className={css.links}>\n            <NavLink\n              className={css.link}\n              to={`/movies/${movieId}/reviews`}\n              style={isActive => (isActive ? { color: '#0C2E56' } : undefined)}\n              state={location.state}\n            >\n              <p className={css.reviews}>Reviews</p>\n            </NavLink>\n\n            <NavLink\n              className={css.link}\n              to={`/movies/${movieId}/cast`}\n              style={isActive => (isActive ? { color: '#0C2E56' } : undefined)}\n              state={location.state}\n            >\n              <p className={css.cast}>Cast</p>\n            </NavLink>\n            <hr />\n          </div>\n        </>\n      )}\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["movie_id","axios","then","response","data","useState","movie","setMovie","error","setError","isLoaderShown","setIsLoaderShown","movieId","useParams","location","useLocation","navigate","useNavigate","useEffect","fetchMovieDetails","result","catch","console","log","finally","className","css","onClick","state","from","poster_path","src","alt","title","img","width","Date","release_date","getFullYear","Math","round","popularity","overview","to","style","isActive","color","undefined","Suspense","fallback"],"sourceRoot":""}